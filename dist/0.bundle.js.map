{"version":3,"sources":["webpack:///./js/elements.js","webpack:///./js/line.js"],"names":["Element","name","properties","events","element","style","layer","x","y","width","height","mousePositionX","mousePositionY","Tool","mouse","startX","startY","canvasClearParam","CANVAS_STATE","canvas","viewPort","topLeft","Line","draw","ctx","beginPath","moveTo","lineTo","stroke","e","started","clientX","clientY","screenX","screenY","Editor","canvasUpdate","upperCanvas","tool","mouseMove","line","ELEMENTS","push"],"mappings":"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","file":"0.bundle.js","sourcesContent":["import Tool from './tools'\r\n\r\nexport default class Element extends Tool {\r\n  constructor(name, properties, events, element, style, layer = 1) {\r\n    // TODO elements file\r\n    // TODO figure out how to implement different types of elements\r\n    super(name, properties, events);\r\n    this.x = element.x;\r\n    this.y = element.y;\r\n    this.width = element.width;\r\n    this.height = element.height;\r\n    this.style = style;\r\n    this.layer = layer;\r\n  }\r\n\r\n  mouseInShape(mousePositionX, mousePositionY) {\r\n    return (this.x <= mousePositionX) && (this.x + this.width >= mousePositionX)\r\n      && (this.y <= mousePositionY) && (this.y + this.height >= mousePositionY);\r\n  }\r\n}\r\n","import { CANVAS_STATE, ELEMENTS } from './globals';\r\nimport Element from './elements';\r\nimport Editor from './editor';\r\n\r\nconst mouse = {\r\n  x: 0,\r\n  y: 0,\r\n  startX: 0,\r\n  startY: 0,\r\n};\r\n\r\nconst canvasClearParam = {\r\n  x: CANVAS_STATE.canvas.viewPort.topLeft.x,\r\n  y: CANVAS_STATE.canvas.viewPort.topLeft.y,\r\n  width: CANVAS_STATE.canvas.width,\r\n  height: CANVAS_STATE.canvas.height,\r\n};\r\n\r\nexport default class Line extends Element {\r\n  constructor(name, properties, events, element, style) {\r\n    super(name, properties, events, element, style);\r\n    this.startX = element.startX;\r\n    this.startY = element.startY;\r\n    this.draw = function (canvas) {\r\n      canvas.ctx.beginPath();\r\n      canvas.ctx.moveTo(this.startX, this.startY);\r\n      canvas.ctx.lineTo(this.x, this.y);\r\n      canvas.ctx.stroke();\r\n    };\r\n  }\r\n\r\n  static mouseDown(e) {\r\n    this.started = true;\r\n    mouse.startX = e.clientX;\r\n    mouse.startY = e.clientY;\r\n  }\r\n\r\n  static mouseMove(e, canvas) {\r\n    if (this.started) {\r\n      mouse.x = e.screenX;\r\n      mouse.y = e.screenY;\r\n      Editor.canvasUpdate(canvas.upperCanvas, true, canvasClearParam);\r\n      canvas.upperCanvas.ctx.beginPath();\r\n      canvas.upperCanvas.ctx.moveTo(mouse.startX, mouse.startY);\r\n      canvas.upperCanvas.ctx.lineTo(mouse.x, mouse.y);\r\n      canvas.upperCanvas.ctx.stroke();\r\n    }\r\n  }\r\n\r\n  static mouseUp(e, canvas, tool) {\r\n    if (this.started) {\r\n      this.mouseMove(e, canvas);\r\n      this.started = false;\r\n      const element = {\r\n        startX: mouse.startX,\r\n        startY: mouse.startY,\r\n        x: mouse.x,\r\n        y: mouse.y,\r\n        width: mouse.x - mouse.startX,\r\n        height: mouse.y - mouse.startY,\r\n      };\r\n      const line = new Line(\r\n        tool.name,\r\n        tool.properties,\r\n        tool.events,\r\n        element,\r\n        null,\r\n      );\r\n      ELEMENTS.push(line);\r\n      Editor.canvasUpdate(canvas.upperCanvas, false, canvasClearParam);\r\n      Editor.canvasUpdate(canvas.canvas, true, canvasClearParam);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./js/hold.js"],"names":["selection","Hold","e","canvas","mousePosition","Editor","checkMousePosition","mouse","positionX","x","positionY","y","Elements","forEach","element","mouseInShape","dragoffx","dragoffy","CANVAS_STATE","dragging","draw","ctx","clearRect","width","height","upperCanvas","strokeRect","canvasUpdate"],"mappings":"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","file":"0.bundle.js","sourcesContent":["import { Elements } from './element';\r\nimport Editor from './editor';\r\nimport { CANVAS_STATE } from './globals';\r\n\r\nlet selection;\r\n\r\nexport default class Hold {\r\n  static mouseDown(e, canvas) {\r\n    const mousePosition = Editor.checkMousePosition(e, canvas);\r\n    const mouse = {\r\n      positionX: mousePosition.x,\r\n      positionY: mousePosition.y,\r\n    };\r\n    Elements.forEach((element) => {\r\n      if (element.mouseInShape(mouse.positionX, mouse.positionY)) {\r\n        // let selection = this.selection;\r\n        this.dragoffx = mouse.positionX - element.x;\r\n        this.dragoffy = mouse.positionY - element.y;\r\n        CANVAS_STATE.dragging = true;\r\n        CANVAS_STATE.selection = element;\r\n        selection = CANVAS_STATE.selection;\r\n        Hold.draw(canvas);\r\n        //return;\r\n      }/*\r\n      if (CANVAS_STATE.selection) {\r\n        CANVAS_STATE.selection = null;\r\n        selection = null;\r\n        Hold.draw(canvas);\r\n      } */\r\n    });\r\n  }\r\n\r\n  static mouseMove(e, canvas) {\r\n    if (CANVAS_STATE.dragging) {\r\n      const mousePosition = Editor.checkMousePosition(e, canvas);\r\n      selection.x = mousePosition.x - this.dragoffx;\r\n      selection.y = mousePosition.y - this.dragoffy;\r\n      Hold.draw(canvas);\r\n    }\r\n  }\r\n\r\n  static mouseUp(e, canvas) {\r\n    CANVAS_STATE.dragging = false;\r\n  }\r\n\r\n  static draw(canvas) {\r\n    canvas.canvas.ctx.clearRect(0, 0, canvas.canvas.width, canvas.canvas.height);\r\n    canvas.upperCanvas.ctx.clearRect(0, 0, canvas.upperCanvas.width, canvas.upperCanvas.height);\r\n    Elements.forEach((element) => {\r\n      if (!(element.x > canvas.upperCanvas.width || element.y > canvas.upperCanvas.height\r\n        || element.x + element.width < 0 || element.y + element.height < 0)) {\r\n        canvas.upperCanvas.ctx.strokeRect(element.x, element.y, element.width, element.height);\r\n      }\r\n      if (selection !== null) {\r\n        canvas.upperCanvas.ctx.strokeRect(\r\n          selection.x,\r\n          selection.y,\r\n          selection.width,\r\n          selection.height,\r\n        );\r\n      }\r\n      Editor.canvasUpdate(canvas);\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}
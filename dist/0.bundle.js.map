{"version":3,"sources":["webpack:///./js/hold.js","webpack:///./js/utilities.js"],"names":["selection","Hold","e","canvas","mousePosition","Utilities","checkMousePosition","mouse","positionX","x","positionY","y","ELEMENTS","forEach","element","mouseInShape","dragoffx","dragoffy","CANVAS_STATE","dragging","draw","ctx","clearRect","width","height","upperCanvas","strokeRect","Editor","canvasUpdate","offsetX","offsetY","mousePositionX","mousePositionY","html","document","body","parentNode","offsetParent","undefined","offsetLeft","offsetTop","stylePaddingLeft","parseInt","defaultView","getComputedStyle","paddingLeft","stylePaddingTop","paddingTop","styleBorderLeft","borderLeftWidth","styleBorderTop","borderTopWidth","pageX","pageY","Math","log"],"mappings":"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","file":"0.bundle.js","sourcesContent":["import Editor from './editor';\r\nimport { CANVAS_STATE, ELEMENTS } from './globals';\r\nimport Utilities from './utilities';\r\n\r\nlet selection;\r\n\r\nexport default class Hold {\r\n  static mouseDown(e, canvas) {\r\n    const mousePosition = Utilities.checkMousePosition(e, canvas);\r\n    const mouse = {\r\n      positionX: mousePosition.x,\r\n      positionY: mousePosition.y,\r\n    };\r\n    ELEMENTS.forEach((element) => {\r\n      if (element.mouseInShape(mouse.positionX, mouse.positionY)) {\r\n        // let selection = this.selection;\r\n        this.dragoffx = mouse.positionX - element.x;\r\n        this.dragoffy = mouse.positionY - element.y;\r\n        CANVAS_STATE.dragging = true;\r\n        CANVAS_STATE.selection = element;\r\n        selection = CANVAS_STATE.selection;\r\n        Hold.draw(canvas);\r\n        //return;\r\n      }/*\r\n      if (CANVAS_STATE.selection) {\r\n        CANVAS_STATE.selection = null;\r\n        selection = null;\r\n        Hold.draw(canvas);\r\n      } */\r\n    });\r\n  }\r\n\r\n  static mouseMove(e, canvas) {\r\n    if (CANVAS_STATE.dragging) {\r\n      const mousePosition = Utilities.checkMousePosition(e, canvas);\r\n      selection.x = mousePosition.x - this.dragoffx;\r\n      selection.y = mousePosition.y - this.dragoffy;\r\n      Hold.draw(canvas);\r\n    }\r\n  }\r\n\r\n  static mouseUp(e, canvas) {\r\n    CANVAS_STATE.dragging = false;\r\n  }\r\n\r\n  static draw(canvas) {\r\n    canvas.canvas.ctx.clearRect(0, 0, canvas.canvas.width, canvas.canvas.height);\r\n    canvas.upperCanvas.ctx.clearRect(0, 0, canvas.upperCanvas.width, canvas.upperCanvas.height);\r\n    ELEMENTS.forEach((element) => {\r\n      if (!(element.x > canvas.upperCanvas.width || element.y > canvas.upperCanvas.height\r\n        || element.x + element.width < 0 || element.y + element.height < 0)) {\r\n        canvas.upperCanvas.ctx.strokeRect(element.x, element.y, element.width, element.height);\r\n      }\r\n      if (selection !== null) {\r\n        canvas.upperCanvas.ctx.strokeRect(\r\n          selection.x,\r\n          selection.y,\r\n          selection.width,\r\n          selection.height,\r\n        );\r\n      }\r\n      Editor.canvasUpdate(canvas);\r\n    });\r\n  }\r\n}\r\n","export default class Utilities {\r\n  static checkMousePosition(e, canvas) {\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n    let mousePositionX;\r\n    let mousePositionY;\r\n    const html = document.body.parentNode;\r\n    let upperCanvas = canvas.upperCanvas;\r\n    if (upperCanvas.offsetParent !== undefined) {\r\n      do {\r\n        offsetX += upperCanvas.offsetLeft;\r\n        offsetY += upperCanvas.offsetTop;\r\n      } while ((upperCanvas = upperCanvas.offsetParent));\r\n    }\r\n    upperCanvas = canvas.upperCanvas;\r\n    const stylePaddingLeft = parseInt(document.defaultView.getComputedStyle(upperCanvas)\r\n      .paddingLeft, 10) || 0;\r\n    const stylePaddingTop = parseInt(document.defaultView.getComputedStyle(upperCanvas)\r\n      .paddingTop, 10) || 0;\r\n    const styleBorderLeft = parseInt(document.defaultView.getComputedStyle(upperCanvas)\r\n      .borderLeftWidth, 10) || 0;\r\n    const styleBorderTop = parseInt(document.defaultView.getComputedStyle(upperCanvas)\r\n      .borderTopWidth, 10) || 0;\r\n\r\n    offsetX += stylePaddingLeft\r\n      + styleBorderLeft\r\n      + html.offsetLeft;\r\n    offsetY += stylePaddingTop\r\n      + styleBorderTop\r\n      + html.offsetTop;\r\n    mousePositionX = e.pageX - offsetX;\r\n    mousePositionY = e.pageY - offsetY;\r\n    return { x: mousePositionX, y: mousePositionY };\r\n  }\r\n\r\n  static getBaseLog(x, y) {\r\n    return Math.log(y) / Math.log(x);\r\n  }\r\n}\r\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./js/elements.js","webpack:///./js/rectangle.js"],"names":["Element","name","properties","events","element","style","layer","x","y","width","height","mousePositionX","mousePositionY","Tool","mouse","startX","startY","canvasClearParam","CANVAS_STATE","canvas","viewPort","topLeft","Rectangle","draw","ctx","strokeRect","e","started","clientX","clientY","Math","min","screenX","screenY","abs","Editor","canvasUpdate","upperCanvas","tool","mouseMove","rect","ELEMENTS","push"],"mappings":"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","file":"1.bundle.js","sourcesContent":["import Tool from './tools'\r\n\r\nexport default class Element extends Tool {\r\n  constructor(name, properties, events, element, style, layer = 1) {\r\n    // TODO elements file\r\n    // TODO figure out how to implement different types of elements\r\n    super(name, properties, events);\r\n    this.x = element.x;\r\n    this.y = element.y;\r\n    this.width = element.width;\r\n    this.height = element.height;\r\n    this.style = style;\r\n    this.layer = layer;\r\n  }\r\n\r\n  mouseInShape(mousePositionX, mousePositionY) {\r\n    return (this.x <= mousePositionX) && (this.x + this.width >= mousePositionX)\r\n      && (this.y <= mousePositionY) && (this.y + this.height >= mousePositionY);\r\n  }\r\n}\r\n","import { CANVAS_STATE, ELEMENTS } from './globals';\r\nimport Element from './elements';\r\nimport Editor from './editor';\r\n\r\nconst mouse = {\r\n  x: 0,\r\n  y: 0,\r\n  startX: 0,\r\n  startY: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nconst canvasClearParam = {\r\n  x: CANVAS_STATE.canvas.viewPort.topLeft.x,\r\n  y: CANVAS_STATE.canvas.viewPort.topLeft.y,\r\n  width: CANVAS_STATE.canvas.width,\r\n  height: CANVAS_STATE.canvas.height,\r\n};\r\n\r\nexport default class Rectangle extends Element {\r\n  constructor(name, properties, events, element, style) {\r\n    super(name, properties, events, element, style);\r\n    this.draw = function (canvas) {\r\n      canvas.ctx.strokeRect(this.x, this.y, this.width, this.height);\r\n    };\r\n  }\r\n\r\n  static mouseDown(e) {\r\n    this.started = true;\r\n    mouse.startX = e.clientX;\r\n    mouse.startY = e.clientY;\r\n  }\r\n\r\n  static mouseMove(e, canvas) {\r\n    if (this.started) {\r\n      mouse.x = Math.min(e.screenX, mouse.startX);\r\n      mouse.y = Math.min(e.screenY, mouse.startY);\r\n      mouse.width = Math.abs(e.screenX - mouse.startX);\r\n      mouse.height = Math.abs(e.screenY - mouse.startY);\r\n      Editor.canvasUpdate(canvas.upperCanvas, false, canvasClearParam);\r\n      canvas.upperCanvas.ctx.strokeRect(mouse.x, mouse.y, mouse.width, mouse.height);\r\n    }\r\n  }\r\n\r\n  static mouseUp(e, canvas, tool) {\r\n    if (this.started) {\r\n      this.mouseMove(e, canvas);\r\n      this.started = false;\r\n      const element = {\r\n        x: mouse.x,\r\n        y: mouse.y,\r\n        width: mouse.width,\r\n        height: mouse.height,\r\n      };\r\n      const rect = new Rectangle(\r\n        tool.name,\r\n        tool.properties,\r\n        tool.events,\r\n        element,\r\n        null,\r\n      );\r\n      ELEMENTS.push(rect);\r\n      Editor.canvasUpdate(canvas.upperCanvas, false, canvasClearParam);\r\n      Editor.canvasUpdate(canvas.canvas, true, canvasClearParam);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}